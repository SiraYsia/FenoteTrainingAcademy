const courseDetails = {


    hsi_course: {
      name: "Health & Safety Institute (HSI) Courses",
      price: 0.0,
      descriptionFile: "schedule_folder/descriptions/hsi/hsi_course.html",
      dates: [
      ],
  }, 
  
  
  hsi_adult_pediatric: {
    name: "HSI Adult and Pediatric First Aid, CPR/AED or All ages",
    price: 80.00,
    descriptionFile: "schedule_folder/descriptions/hsi/all_ages.html",
    dates: [

      { "start": "2025-01-04", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-11", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-18", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-25", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-02-08", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-02-15", "end": "", "startTime": "10:00", "endTime": "12:00" },
      { "start": "2025-02-22", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-03-15", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-03-22", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-03-29", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-05", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-12", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-19", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-26", "end": "", "startTime": "15:00", "endTime": "17:00" }












    ],
  },
  




  hsi_adult_pediatric_classroom: {
    name: "HSI Adult and Pediatric First Aid, CPR/AED or All ages - Classroom",
    price: 80.00,
    descriptionFile: "schedule_folder/descriptions/hsi/all_ages_classroom.html",
    dates: [
      { "start": "2025-01-04", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-11", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-18", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-25", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-02-08", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-02-15", "end": "", "startTime": "10:00", "endTime": "12:00" },
      { "start": "2025-03-15", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-03-22", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-03-29", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-05", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-12", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-19", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-04-26", "end": "", "startTime": "15:00", "endTime": "17:00" }
  
    

    ],
  },
  

  hsi_adult_adult_cpr: {
    name: "HSI Adult First aid, CPR/AED",
    price: 80.00,
    descriptionFile: "schedule_folder/descriptions/hsi/3.adult_first_aid.html",
    dates: [
      { "start": "2024-08-19", "end": "", "startTime": "09:00", "endTime": "11:45" },
      { "start": "2024-10-19", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2024-11-16", "end": "", "startTime": "10:00", "endTime": "12:00" },
      { "start": "2024-11-23", "end": "", "startTime": "15:00", "endTime": "17:00" }

  
    ],
  },  
  

  hsi_emergency: {
    name: "Emergency and Fire Preparedness",
    price: 'TBD',
    descriptionFile: "schedule_folder/descriptions/hsi/emrgency.html",
    dates: [
      "None"
  
  
    ],
  },
  
  hsi_fire_exten: {
    name: "Fire Extinguisher Safety",
    price: 'TBD',
    descriptionFile: "schedule_folder/descriptions/hsi/fire_extinguisher_safety.html",
    dates: [
      "None"
  
    ],
  },
  
  hsi_adult_firstaid: {
    name: "HSI Adult First Aid",
    price: 75.00,
    descriptionFile: "schedule_folder/descriptions/hsi/hsi_adult_firstaid.html",
    dates: [
      { "start": "2024-09-22", "end": "", "startTime": "10:00", "endTime": "12:00" },
      { "start": "2025-03-29", "end": "", "startTime": "15:00", "endTime": "16:00" }

  
    ],
  },
  
  
  hsi_adult_adult_cprw: {
    name: "HSI Adult CPR/AED",
    price: 80.00,
    descriptionFile: "schedule_folder/descriptions/hsi/hsi_ault_cpr.html",
    dates: [
      { "start": "2024-09-14", "end": "", "startTime": "10:00", "endTime": "11:00" },
      { "start": "2024-09-22", "end": "", "startTime": "10:00", "endTime": "11:00" },
      { "start": "2024-10-21", "end": "", "startTime": "17:00", "endTime": "20:00" },
      { "start": "2024-11-16", "end": "", "startTime": "10:00", "endTime": "12:00" },
      { "start": "2024-11-23", "end": "", "startTime": "15:00", "endTime": "17:00" }

    ],
  },
  
  
  hsi_pediatric_cpr: {
    name: "HSI Pediatric First Aid, CPR/AED",
    price: 80.00,
    descriptionFile: "schedule_folder/descriptions/hsi/8.pediatric.html",
    dates: [
      { "start": "2024-11-16", "end": "", "startTime": "10:00", "endTime": "12:00" },
      { "start": "2024-11-23", "end": "", "startTime": "15:00", "endTime": "17:00" }
  
    ],
  },
  
  hsi_ped_firstaid: {
    name: "HSI Pediatric First Aid ",
    price: 65.00,
    descriptionFile: "schedule_folder/descriptions/hsi/10.pediatric_firstaid.html",
    dates: [
        "None"
  
    ],
  },
  
  //cant find exact description
  hsi_pediatric_aed_cpr: {
    name: "HSI Pediatric CPR/AED",
    price: 80.00,
    descriptionFile: "schedule_folder/descriptions/hsi/hsi_pediatric_cpr.html",
    dates: [
      { "start": "2024-11-16", "end": "", "startTime": "10:00", "endTime": "12:00" },
      { "start": "2024-11-23", "end": "", "startTime": "15:00", "endTime": "17:00" }
    ],
  },
  
  
  
  
  cpr_blended: {
    name: "First Aid & CPR Blended",
    price: 65.00,
    descriptionFile: "schedule_folder/descriptions/hsi/blended_first_aid.html",
    dates: [
        "None"
  
    ],
  },
  
  
  hsi_wild: {
    name: "HSI Wilderness First Aid (WFA) ",
    price: 85.00,
    descriptionFile: "schedule_folder/descriptions/hsi/4.wilderness_first_aid.html",
    dates: [
        "None"
  
    ],
  },
  
  
  hsi_blood: {
    name: "HSI Bloodborne Pathogens    ",
    price: 85.00,
    descriptionFile: "schedule_folder/descriptions/hsi/5.blood_pathogen.html",
    dates: [
        "None"
  
    ],
  },
  
  
  hsi_baby: {
    name: "HSI Child and Babysitting Safety (CABS)   ",
    price: 85.00,
    descriptionFile: "schedule_folder/descriptions/hsi/7.baby.html",
    dates: [
        "None"
  
    ],
  },
  
  hsi_bls: {
    name: "HSI Stop Life Threatening Bleeding ",
    price: 85.00,
    descriptionFile: "schedule_folder/descriptions/hsi/9.stop_lifethreaten.html",
    dates: [
        "None"
  
    ],
  },
  
  
  hsi_bls2: {
    name: "HSI BLS",
    price: 85.00,
    descriptionFile: "schedule_folder/descriptions/hsi/2.bls.html",
    dates: [
      { "start": "2025-01-04", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-11", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-18", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-01-25", "end": "", "startTime": "15:00", "endTime": "17:00" },
      { "start": "2025-02-08", "end": "", "startTime": "15:00", "endTime": "17:00" },
    
    ],
  },
  
    hsi_advanced: {
      name: "HSI Advanced First Aid",
      price: 85.00,
      descriptionFile: "schedule_folder/descriptions/hsi/1.advanced_first_aid.html",
      dates: [
          "None"
  
      ],
  },
  
  
  hsi_acls: {
    name: "HSI Advanced Cardiac Life Support (ACLS)",
    price: 85.00,
    descriptionFile: "schedule_folder/descriptions/hsi/acls.html",
    dates: [
        "None"
  
    ],
  },
  
  
  
  hsi_pals: {
    name: "HSI ASHI Pediatric Advanced Life Support (PALS)",
    price: 85.00,
    descriptionFile: "schedule_folder/descriptions/hsi/pals.html",
    dates: [
        "None"
  
    ],
  },
  
  
  };
  function getFormattedDateInET(dateString) {
    const date = new Date(dateString);
    const etOffset = -5 * 60;
    date.setMinutes(date.getMinutes() - etOffset);
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    return date.toLocaleDateString('en-US', options);
}

// Load description and scams content
fetch('schedule_folder/descriptions/description.html')
    .then(response => response.text())
    .then(descriptionHtml => {
        document.getElementById("description").innerHTML = descriptionHtml;
    })
    .catch(error => console.error("Error loading description:", error));

fetch('schedule_folder/scams.html')
    .then(response => response.text())
    .then(html => {
        document.getElementById('scams').innerHTML = html;
    })
    .catch(error => console.error('Error fetching scams.html:', error));

function redirectToConfirmation(course, date, startTime, endTime) {
    const selectedCourse = courseDetails[course];
    const confirmationDetails = {
        course: selectedCourse.name,
        price: selectedCourse.price.toFixed(2),
        date: date,
        startTime: startTime,
        endTime: endTime,
    };

    fetch(selectedCourse.descriptionFile)
        .then(response => response.text())
        .then(description => {
            const queryString = Object.entries(confirmationDetails)
                .map(([key, value]) => `${encodeURIComponent(key)}=${encodeURIComponent(value)}`)
                .join("&");
            const fullQueryString = `${queryString}&description=${encodeURIComponent(description)}`;
            window.location.href = `confirmation.html?${fullQueryString}`;
        })
        .catch(error => console.error('Error fetching course description:', error));
}

// Helper function to create contact button
function createContactButton() {
    const dateButton = document.createElement("button");
    dateButton.innerHTML = "Please contact us to schedule a class.";
    dateButton.style.backgroundColor = "transparent";
    dateButton.style.color = "red";
    dateButton.style.padding = "8px 12px";
    dateButton.style.margin = "5px 0";
    dateButton.style.cursor = "pointer";
    dateButton.style.border = "1px solid #ddd";
    dateButton.style.borderRadius = "3px";
    dateButton.style.display = "block";
    dateButton.style.width = "100%";
    dateButton.style.textAlign = "left";

    dateButton.addEventListener("click", () => {
        window.location.href = "./contactus";
    });

    return dateButton;
}

document.addEventListener("DOMContentLoaded", function () {
    const courseButtonsContainer = document.getElementById("course-buttons-container");
    courseButtonsContainer.style.display = "flex";
    courseButtonsContainer.style.flexDirection = "column";
    courseButtonsContainer.style.width = "100%";

    let currentOpenContainer = null;

    function toggleCourseDetails(course, courseContainer) {
        const courseDetail = courseDetails[course];
        
        if (currentOpenContainer === courseContainer && courseContainer.style.display === "block") {
            courseContainer.style.display = "none";
            currentOpenContainer = null;
            return;
        }

        if (currentOpenContainer) {
            currentOpenContainer.style.display = "none";
        }

        courseContainer.innerHTML = "";
        const descriptionDiv = document.createElement("div");
        const datesDiv = document.createElement("div");

        fetch(courseDetail.descriptionFile)
            .then(response => response.text())
            .then(descriptionHtml => {
                descriptionDiv.innerHTML = descriptionHtml;
            })
            .catch(error => console.error("Error loading description:", error));

        // Handle dates
        const now = new Date();
        let hasValidFutureDates = false;

        if (courseDetail.dates === "None" || !Array.isArray(courseDetail.dates) || courseDetail.dates.length === 0) {
            datesDiv.appendChild(createContactButton());
        } else {
            // Check for valid future dates
            courseDetail.dates.forEach(dateObj => {
                if (dateObj !== "None") {
                    const dateTimeString = `${dateObj.start}T${dateObj.startTime}`;
                    const courseDate = new Date(dateTimeString);
                    if (!isNaN(courseDate) && courseDate > now) {
                        hasValidFutureDates = true;
                    }
                }
            });

            if (!hasValidFutureDates) {
                datesDiv.appendChild(createContactButton());
            } else {
                // Show valid future dates
                courseDetail.dates.forEach(dateObj => {
                    if (dateObj === "None") return;

                    const dateTimeString = `${dateObj.start}T${dateObj.startTime}`;
                    const courseDate = new Date(dateTimeString);

                    if (!isNaN(courseDate) && courseDate > now) {
                        const startTime = dateObj.startTime;
                        const endTime = dateObj.endTime;

                        const options = { timeZone: 'America/New_York' };
                        const formattedDate = getFormattedDateInET(courseDate);
                        const formattedStartTime = new Date(`2000-01-01T${startTime}`).toLocaleTimeString('en-US', options);
                        const formattedEndTime = new Date(`2000-01-01T${endTime}`).toLocaleTimeString('en-US', options);

                        const dateButton = document.createElement("button");
                        dateButton.innerHTML = `${formattedDate} (${formattedStartTime} - ${formattedEndTime})`;
                        dateButton.style.backgroundColor = "lightgreen";
                        dateButton.style.color = "red";
                        dateButton.style.padding = "8px 12px";
                        dateButton.style.margin = "5px 0";
                        dateButton.style.cursor = "pointer";
                        dateButton.style.border = "1px solid #ddd";
                        dateButton.style.borderRadius = "3px";
                        dateButton.style.display = "block";
                        dateButton.style.width = "100%";
                        dateButton.style.textAlign = "left";

                        dateButton.addEventListener("click", () => {
                            redirectToConfirmation(course, formattedDate, formattedStartTime, formattedEndTime);
                        });

                        datesDiv.appendChild(dateButton);
                    }
                });
            }
        }

        // Style container
        courseContainer.style.boxShadow = "0 2px 4px rgba(0, 0, 0, 0.1)";
        courseContainer.style.borderRadius = "0";
        courseContainer.style.backgroundColor = "#f9f9f9";
        courseContainer.style.marginTop = "10px";
        courseContainer.style.padding = "15px";

        // Add content
        courseContainer.appendChild(descriptionDiv);
        descriptionDiv.style.fontSize = "16px";
        descriptionDiv.style.color = "#333";
        descriptionDiv.style.margin = "0 20px";
        descriptionDiv.style.marginBottom = "10px";
        descriptionDiv.style.textAlign = "justify";

        courseContainer.appendChild(datesDiv);
        courseContainer.style.display = "block";
        currentOpenContainer = courseContainer;
    }

    // Create course buttons
    Object.keys(courseDetails).forEach((course, index) => {
        const courseButton = document.createElement("button");
        
        const buttonContent = document.createElement("div");
        buttonContent.style.display = "flex";
        buttonContent.style.justifyContent = "space-between";
        buttonContent.style.alignItems = "center";
        buttonContent.style.width = "100%";

        const courseName = document.createElement("span");
        courseName.innerHTML = courseDetails[course].name;

        const priceWithDollar = "$" + courseDetails[course].price;
        const priceTag = document.createElement("span");
        if (index === 0 || index === 18) {
            priceTag.innerHTML = "";
        } else {
            priceTag.innerHTML = priceWithDollar || "";
        }
        
        priceTag.style.backgroundColor = "#4CAF50";
        priceTag.style.color = "white";
        priceTag.style.padding = "4px 8px";
        priceTag.style.borderRadius = "4px";
        priceTag.style.marginLeft = "10px";
        priceTag.style.fontSize = "0.9em";
        priceTag.style.fontWeight = "bold";
        priceTag.style.width = "50px";

        buttonContent.appendChild(courseName);
        buttonContent.appendChild(priceTag);
        courseButton.appendChild(buttonContent);

        courseButton.style.backgroundColor = "transparent";
        courseButton.style.color = "#333";
        courseButton.style.padding = "10px 20px";
        courseButton.style.margin = "5px 0";
        courseButton.style.cursor = "pointer";
        courseButton.style.border = "1px solid #ddd";
        courseButton.style.borderRadius = "0px";
        courseButton.style.transition = "background-color 0.3s";
        courseButton.style.textAlign = "left";
        courseButton.style.boxShadow = "0 4px 8px rgba(0, 0, 0, 0.1)";
        courseButton.style.fontWeight = "bold";
        courseButton.style.width = "100%";

        // Apply color coding
        if (index === 0) courseName.style.color = "blue";
        if (index === 1 || index === 7) courseName.style.color = "purple";
        if (index === 20) courseName.style.color = "red";
        if (index === 21|| index === 22) courseName.style.color = "purple";
        if (index === 36) courseName.style.color = "blue";



        if (course === 'hsi_course') {
          courseButton.style.backgroundColor = "#f0f7ff"; 
          courseButton.style.borderLeft = "5px solid #0056b3";  
          courseButton.style.fontWeight = "bold";
          courseButton.style.fontSize = "1.2em";
          courseButton.style.marginTop = "20px";
          courseButton.style.padding = "15px 20px";
          courseName.style.color = "#0056b3";  // Dark blue text
          courseButton.style.pointerEvents = "none"; 
  
  
      } 
      else if (course === 'amr_course') {
          courseButton.style.backgroundColor = "#fff0f0";  
          courseButton.style.borderLeft = "5px solid #dc3545"; 
          courseButton.style.fontWeight = "bold";
          courseButton.style.fontSize = "1.2em";
          courseButton.style.marginTop = "20px";
          courseButton.style.padding = "15px 20px";
          courseName.style.color = "#dc3545";  
          courseButton.style.pointerEvents = "none"; 
  
      }
      
      // For hover effects on regular course buttons
      courseButton.addEventListener("mouseenter", () => {
          if (course !== 'hsi_course' && course !== 'amr_course') {
              courseButton.style.backgroundColor = "#f2f2f2";
          }
      });
      
        const container = document.createElement("div");
        container.style.display = "none";
        courseDetails[course].container = container;

        courseButton.addEventListener("mouseenter", () => {
            courseButton.style.backgroundColor = "#f2f2f2";
        });

        courseButton.addEventListener("mouseleave", () => {
            courseButton.style.backgroundColor = "transparent";
        });

        courseButton.addEventListener("click", (event) => {
            event.preventDefault();
            toggleCourseDetails(course, container);
        });

        courseButtonsContainer.appendChild(courseButton);
        courseButtonsContainer.appendChild(container);
    });
});
  
  

  
  
  //OTHER JS COPY just for the heading
  
  jQuery(document).ready(function( $ ) {
  
  // Back to top button
  $(window).scroll(function() {
    if ($(this).scrollTop() > 100) {
      $('.back-to-top').fadeIn('slow');
    } else {
      $('.back-to-top').fadeOut('slow');
    }
  });
  $('.back-to-top').click(function(){
    $('html, body').animate({scrollTop : 0},1500, 'easeInOutExpo');
    return false;
  });
  
  // Stick the header at top on scroll
  $("#header").sticky({topSpacing:0, zIndex: '50'});
  
  // Intro background carousel
  $("#intro-carousel").owlCarousel({
    autoplay: true,
    dots: false,
    loop: true,
    animateOut: 'fadeOut',
    items: 1
  });
  
  // Initiate the wowjs animation library
  new WOW().init();
  
  // Initiate superfish on nav menu
  $('.nav-menu').superfish({
    animation: {
      opacity: 'show'
    },
    speed: 400
  });
  
  // Mobile Navigation
  if ($('#nav-menu-container').length) {
    var $mobile_nav = $('#nav-menu-container').clone().prop({
      id: 'mobile-nav'
    });
    $mobile_nav.find('> ul').attr({
      'class': '',
      'id': ''
    });
    $('body').append($mobile_nav);
    $('body').prepend('<button type="button" id="mobile-nav-toggle"><i class="fa fa-bars"></i></button>');
    $('body').append('<div id="mobile-body-overly"></div>');
    $('#mobile-nav').find('.menu-has-children').prepend('<i class="fa fa-chevron-down"></i>');
  
    $(document).on('click', '.menu-has-children i', function(e) {
      $(this).next().toggleClass('menu-item-active');
      $(this).nextAll('ul').eq(0).slideToggle();
      $(this).toggleClass("fa-chevron-up fa-chevron-down");
    });
  
    $(document).on('click', '#mobile-nav-toggle', function(e) {
      $('body').toggleClass('mobile-nav-active');
      $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');
      $('#mobile-body-overly').toggle();
    });
  
    $(document).click(function(e) {
      var container = $("#mobile-nav, #mobile-nav-toggle");
      if (!container.is(e.target) && container.has(e.target).length === 0) {
        if ($('body').hasClass('mobile-nav-active')) {
          $('body').removeClass('mobile-nav-active');
          $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');
          $('#mobile-body-overly').fadeOut();
        }
      }
    });
  } else if ($("#mobile-nav, #mobile-nav-toggle").length) {
    $("#mobile-nav, #mobile-nav-toggle").hide();
  }
  
  // Smooth scroll for the menu and links with .scrollto classes
  $('.nav-menu a, #mobile-nav a, .scrollto').on('click', function() {
    if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') && location.hostname == this.hostname) {
      var target = $(this.hash);
      if (target.length) {
        var top_space = 0;
  
        if ($('#header').length) {
          top_space = $('#header').outerHeight();
  
          if( ! $('#header').hasClass('header-fixed') ) {
            top_space = top_space - 20;
          }
        }
  
        $('html, body').animate({
          scrollTop: target.offset().top - top_space
        }, 1500, 'easeInOutExpo');
  
        if ($(this).parents('.nav-menu').length) {
          $('.nav-menu .menu-active').removeClass('menu-active');
          $(this).closest('li').addClass('menu-active');
        }
  
        if ($('body').hasClass('mobile-nav-active')) {
          $('body').removeClass('mobile-nav-active');
          $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');
          $('#mobile-body-overly').fadeOut();
        }
        return false;
      }
    }
  });
  
  
  // Porfolio - uses the magnific popup jQuery plugin
  $('.portfolio-popup').magnificPopup({
    type: 'image',
    removalDelay: 300,
    mainClass: 'mfp-fade',
    gallery: {
      enabled: true
    },
    zoom: {
      enabled: true,
      duration: 300,
      easing: 'ease-in-out',
      opener: function(openerElement) {
        return openerElement.is('img') ? openerElement : openerElement.find('img');
      }
    }
  });
  
  // Testimonials carousel (uses the Owl Carousel library)
  $(".testimonials-carousel").owlCarousel({
    autoplay: true,
    dots: true,
    loop: true,
    responsive: { 0: { items: 1 }, 768: { items: 2 }, 900: { items: 3 } }
  });
  
  // Clients carousel (uses the Owl Carousel library)
  $(".clients-carousel").owlCarousel({
    autoplay: true,
    dots: true,
    loop: true,
    responsive: { 0: { items: 2 }, 768: { items: 4 }, 900: { items: 6 }
    }
  });
  
  //Google Map
  var get_latitude = $('#google-map').data('latitude');
  var get_longitude = $('#google-map').data('longitude');
  
  function initialize_google_map() {
    var myLatlng = new google.maps.LatLng(get_latitude, get_longitude);
    var mapOptions = {
      zoom: 14,
      scrollwheel: false,
      center: myLatlng
    };
    var map = new google.maps.Map(document.getElementById('google-map'), mapOptions);
    var marker = new google.maps.Marker({
      position: myLatlng,
      map: map
    });
  }
  google.maps.event.addDomListener(window, 'load', initialize_google_map);
  
  });
  
  
  document.addEventListener('DOMContentLoaded', function () {
  var menuItemsWithChildren = document.querySelectorAll('.menu-has-children');
  
  menuItemsWithChildren.forEach(function (menuItem) {
    menuItem.addEventListener('click', function (event) {
      event.stopPropagation();
      toggleDropdown(this);
    });
  });
  
  document.addEventListener('click', function () {
    closeAllDropdowns();
  });
  
  function toggleDropdown(menuItem) {
    var subMenu = menuItem.querySelector('ul');
    closeAllDropdowns();
    subMenu.style.display = subMenu.style.display === 'block' ? 'none' : 'block';
  }
  
  function closeAllDropdowns() {
    document.querySelectorAll('.nav-menu ul').forEach(function (subMenu) {
      subMenu.style.display = 'none';
    });
  }
  });
  
  window.addEventListener("scroll", function() {
    var header = document.getElementById("header");
    if (window.scrollY > 0) {
      header.classList.add("scrolled");
    } else {
      header.classList.remove("scrolled");
    }
  });
  
  
  
  
  
  
    // JavaScript to handle mobile navigation toggle
  // JavaScript to handle mobile navigation toggle and submenu visibility
  function toggleNav() {
  var navLinks = document.querySelector('.navbar-links');
  navLinks.classList.toggle('active');
  
  var mobileNav = document.querySelector('.mobile-nav');
  mobileNav.style.display = (mobileNav.style.display === 'none' || mobileNav.style.display === '') ? 'block' : 'none';
  }
  
  
  
  // Get the navigation bar element
  var navbar = document.querySelector('.navbar');
  
  // Get the offset position of the navigation bar
  var navbarOffset = navbar.offsetTop;
  
  // Function to handle scroll events
  function handleScroll() {
    if (window.pageYOffset >= navbarOffset) {
      // Add the 'fixed' class when scrolling down
      navbar.classList.add('fixed');
    } else {
      // Remove the 'fixed' class when scrolling back to the top
      navbar.classList.remove('fixed');
    }
  }
  
  // Listen for scroll events and call the handleScroll function
  window.addEventListener('scroll', handleScroll);
  
  
  
      // Function to close the banner
      function closeBanner2() {
        document.getElementById('bannerContainer2').style.display = 'none';
    }
  
    // Function to show the banner
    function showBanner2() {
        document.getElementById('bannerContainer2').style.display = 'block';
    }
  
    // Call the showBanner function on page load
    window.onload = showBanner2;
  